{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/catalog/v1.json", "dbt_version": "1.10.10", "generated_at": "2025-09-05T23:03:05.526557Z", "invocation_id": "75c8f975-5ee6-4b1b-97e6-60a858145ddb", "invocation_started_at": "2025-09-05T23:02:49.168364Z", "env": {}}, "nodes": {"snapshot.manuel_demo.acq_orders_snapshot": {"metadata": {"type": "table", "schema": "snapshots", "name": "acq_orders_snapshot", "database": "manuel-demo-1392926998", "comment": null, "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 2, "name": "taxonomy_business_category_group", "comment": ""}, "dbt_scd_id": {"type": "STRING", "index": 3, "name": "dbt_scd_id", "comment": ""}, "dbt_updated_at": {"type": "TIMESTAMP", "index": 4, "name": "dbt_updated_at", "comment": ""}, "dbt_valid_from": {"type": "TIMESTAMP", "index": 5, "name": "dbt_valid_from", "comment": ""}, "dbt_valid_to": {"type": "TIMESTAMP", "index": 6, "name": "dbt_valid_to", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 508694, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 37711408, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "snapshot.manuel_demo.acq_orders_snapshot"}, "snapshot.manuel_demo.customers_snapshot": {"metadata": {"type": "table", "schema": "snapshots", "name": "customers_snapshot", "database": "manuel-demo-1392926998", "comment": null, "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": ""}, "customer_country": {"type": "STRING", "index": 2, "name": "customer_country", "comment": ""}, "dbt_scd_id": {"type": "STRING", "index": 3, "name": "dbt_scd_id", "comment": ""}, "dbt_updated_at": {"type": "TIMESTAMP", "index": 4, "name": "dbt_updated_at", "comment": ""}, "dbt_valid_from": {"type": "TIMESTAMP", "index": 5, "name": "dbt_valid_from", "comment": ""}, "dbt_valid_to": {"type": "TIMESTAMP", "index": 6, "name": "dbt_valid_to", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 532848, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 37096294, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "snapshot.manuel_demo.customers_snapshot"}, "model.manuel_demo.dim_acquisition_taxonomy": {"metadata": {"type": "table", "schema": "analytics", "name": "dim_acquisition_taxonomy", "database": "manuel-demo-1392926998", "comment": "One row per customer with a deterministic acquisition taxonomy assignment.\n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Business key. One row per customer_id."}, "taxonomy_business_category_group": {"type": "STRING", "index": 2, "name": "taxonomy_business_category_group", "comment": "Deterministic taxonomy label for acquisition analysis."}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 508694, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 12276708, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.dim_acquisition_taxonomy"}, "model.manuel_demo.dim_customer_cohort": {"metadata": {"type": "table", "schema": "analytics", "name": "dim_customer_cohort", "database": "manuel-demo-1392926998", "comment": "One row per customer capturing cohort_date (first ever active) and cohort_month (bucketed), plus stable slicing attrs.\n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Business key. One row per customer_id."}, "cohort_month": {"type": "DATE", "index": 2, "name": "cohort_month", "comment": "Month bucket of the cohort date."}, "cohort_week_start": {"type": "DATE", "index": 3, "name": "cohort_week_start", "comment": ""}, "cohort_date": {"type": "DATE", "index": 4, "name": "cohort_date", "comment": "First-ever active date for the customer."}, "customer_country": {"type": "STRING", "index": 5, "name": "customer_country", "comment": "Country at cohort time (carried from dim if available)."}, "taxonomy_business_category_group": {"type": "STRING", "index": 6, "name": "taxonomy_business_category_group", "comment": "Acquisition taxonomy at cohort time (deterministic choice)."}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 512366, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 30506431, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "customer_id, customer_country, taxonomy_business_category_group", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "cohort_month", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.dim_customer_cohort"}, "model.manuel_demo.dim_customer_country": {"metadata": {"type": "table", "schema": "analytics", "name": "dim_customer_country", "database": "manuel-demo-1392926998", "comment": "One row per customer with a stable country value (uppercased/trimmed).\n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Business key. One row per customer_id."}, "customer_country": {"type": "STRING", "index": 2, "name": "customer_country", "comment": "Alphabetically-first non-null country for the customer; may be NULL if all source values are NULL.\n"}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 532848, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 10453894, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.dim_customer_country"}, "model.manuel_demo.fct_cohort_retention_daily": {"metadata": {"type": "table", "schema": "analytics", "name": "fct_cohort_retention_daily", "database": "manuel-demo-1392926998", "comment": "Daily retention counts by cohort and slices with per-slice cohort sizes.", "owner": null}, "columns": {"cohort_date": {"type": "DATE", "index": 1, "name": "cohort_date", "comment": ""}, "days_since_cohort": {"type": "INT64", "index": 2, "name": "days_since_cohort", "comment": ""}, "customer_country": {"type": "STRING", "index": 3, "name": "customer_country", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 4, "name": "taxonomy_business_category_group", "comment": ""}, "cohort_size": {"type": "INT64", "index": 5, "name": "cohort_size", "comment": ""}, "active_customers": {"type": "INT64", "index": 6, "name": "active_customers", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 5801473, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 349318583, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "customer_country, taxonomy_business_category_group, days_since_cohort", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "cohort_date", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.fct_cohort_retention_daily"}, "model.manuel_demo.fct_cohort_retention_monthly": {"metadata": {"type": "table", "schema": "analytics", "name": "fct_cohort_retention_monthly", "database": "manuel-demo-1392926998", "comment": "Monthly retention counts by cohort and slices using the monthly rollup. A customer is retained in a given month if any subscription is active that month.\n", "owner": null}, "columns": {"cohort_month": {"type": "DATE", "index": 1, "name": "cohort_month", "comment": ""}, "months_since_cohort": {"type": "INT64", "index": 2, "name": "months_since_cohort", "comment": ""}, "customer_country": {"type": "STRING", "index": 3, "name": "customer_country", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 4, "name": "taxonomy_business_category_group", "comment": ""}, "cohort_size": {"type": "INT64", "index": 5, "name": "cohort_size", "comment": "Per-slice cohort size from dim_customer_cohort (non-null after inner join)."}, "active_customers": {"type": "INT64", "index": 6, "name": "active_customers", "comment": ""}, "total_active_days": {"type": "INT64", "index": 7, "name": "total_active_days", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 10376, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 707098, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "customer_country, taxonomy_business_category_group, months_since_cohort", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "cohort_month", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.fct_cohort_retention_monthly"}, "model.manuel_demo.fct_customer_active_daily": {"metadata": {"type": "table", "schema": "analytics", "name": "fct_customer_active_daily", "database": "manuel-demo-1392926998", "comment": "Subscription-level daily activity at grain (customer_id, activity_date).\n", "owner": null}, "columns": {"activity_date": {"type": "DATE", "index": 1, "name": "activity_date", "comment": ""}, "customer_id": {"type": "STRING", "index": 2, "name": "customer_id", "comment": ""}, "is_active": {"type": "INT64", "index": 3, "name": "is_active", "comment": "Always 1 because rows exist only for active subscription-days."}, "customer_country": {"type": "STRING", "index": 4, "name": "customer_country", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 5, "name": "taxonomy_business_category_group", "comment": ""}, "created_at": {"type": "TIMESTAMP", "index": 6, "name": "created_at", "comment": ""}, "last_updated_at": {"type": "TIMESTAMP", "index": 7, "name": "last_updated_at", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 103529461, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 6994151859, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "customer_id", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "activity_date", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.fct_customer_active_daily"}, "model.manuel_demo.fct_customer_active_monthly": {"metadata": {"type": "table", "schema": "analytics", "name": "fct_customer_active_monthly", "database": "manuel-demo-1392926998", "comment": "Monthly rollup of subscription-level activity at grain (customer_id, month_start).\n", "owner": null}, "columns": {"month_start": {"type": "DATE", "index": 1, "name": "month_start", "comment": ""}, "customer_id": {"type": "STRING", "index": 2, "name": "customer_id", "comment": ""}, "active_days": {"type": "INT64", "index": 3, "name": "active_days", "comment": "Sum of daily is_active within the calendar month (0..31)."}, "is_active_month": {"type": "INT64", "index": 4, "name": "is_active_month", "comment": "1 if any day in the month is active, else 0."}, "customer_country": {"type": "STRING", "index": 5, "name": "customer_country", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 6, "name": "taxonomy_business_category_group", "comment": ""}, "created_at": {"type": "TIMESTAMP", "index": 7, "name": "created_at", "comment": ""}, "last_updated_at": {"type": "TIMESTAMP", "index": 8, "name": "last_updated_at", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 4037957, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 305132795, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "customer_id", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "month_start", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.fct_customer_active_monthly"}, "model.manuel_demo.fct_customer_base_updates_monthly": {"metadata": {"type": "table", "schema": "analytics", "name": "fct_customer_base_updates_monthly", "database": "manuel-demo-1392926998", "comment": "Monthly customer movements: new_customers (cohort starts), retained_customers (active but not new), churned_customers (last activity month).\n", "owner": null}, "columns": {"month": {"type": "DATE", "index": 1, "name": "month", "comment": "First day of the calendar month."}, "new_customers": {"type": "INT64", "index": 2, "name": "new_customers", "comment": "Distinct customers whose cohort_month equals month."}, "retained_customers": {"type": "INT64", "index": 3, "name": "retained_customers", "comment": "Customers whose last_activity_month equals month."}, "churned_customers": {"type": "INT64", "index": 4, "name": "churned_customers", "comment": "Churned customers cannot exceed total active customers (new + existing)."}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 68, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 2176, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "clustering_fields": {"id": "clustering_fields", "label": "Clustered By", "value": "month", "include": true, "description": "The clustering columns for this table"}, "partitioning_type": {"id": "partitioning_type", "label": "Partitioned By", "value": "month", "include": true, "description": "The partitioning column for this table"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.fct_customer_base_updates_monthly"}, "model.manuel_demo.stg_acq_orders": {"metadata": {"type": "view", "schema": "analytics", "name": "stg_acq_orders", "database": "manuel-demo-1392926998", "comment": "Acquisition / taxonomy attributes per customer derived from raw.acq_orders. Intended as a descriptive dimension joined to customers. TBC if a customer can be mapped to multiple acquisition/business taxonomy. \n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Customer key used to join to stg_customers and fact models.\n"}, "taxonomy_business_category_group": {"type": "STRING", "index": 2, "name": "taxonomy_business_category_group", "comment": "High-level business category/taxonomy for the customer as provided by the source. Containes \"Other Group\" category, TBC what it contains and how the categories are updated.\n"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.stg_acq_orders"}, "model.manuel_demo.stg_activity": {"metadata": {"type": "view", "schema": "analytics", "name": "stg_activity", "database": "manuel-demo-1392926998", "comment": "Cleaned activity/subscription windows derived from raw.activity. Renames from_date \u2192 start_date and to_date \u2192 end_date, and enforces types. Grain: one row per (customer_id, subscription_id, start_date) window, TBC. I assumed the end_date is related to the activity, not the subscription;hence, it should not include any nulls. This is also consistent with the data, TBC. TBC if a customer can have multiple active subscriptions at the same time.\n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Customer key for the activity window. Must exist in stg_customers.\n"}, "subscription_id": {"type": "STRING", "index": 2, "name": "subscription_id", "comment": "Identifier of the subscription/contract associated with the window. Used to distinguish multiple concurrent subscriptions for the same customer.\n"}, "start_date": {"type": "DATE", "index": 3, "name": "start_date", "comment": "Start (inclusive) of the activity/subscription window. Renamed from raw.activity.from_date. Expected to be on or before CURRENT_DATE(), TBC.\n"}, "end_date": {"type": "DATE", "index": 4, "name": "end_date", "comment": "End (inclusive) of the activity/subscription window. Renamed from raw.activity.to_date. This seems to be the end date of the activity, not the subscription, based on the name of the table;hence, it should not include any nulls.\n"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.stg_activity"}, "model.manuel_demo.stg_customers": {"metadata": {"type": "view", "schema": "analytics", "name": "stg_customers", "database": "manuel-demo-1392926998", "comment": "Cleaned customer dimension derived from raw.customers. One row per customer. Column names are standardized and types are enforced for downstream modeling. Grain: customer_id.\n", "owner": null}, "columns": {"customer_id": {"type": "STRING", "index": 1, "name": "customer_id", "comment": "Unique id for the customer. Used as the primary join key to other staging/mart models.\n"}, "customer_country": {"type": "STRING", "index": 2, "name": "customer_country", "comment": "Customer country name from the source. Standardized (trimmed/uppercased) in staging. Not mapped to ISO-2/ISO-3 country codes.\n"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.manuel_demo.stg_customers"}}, "sources": {"source.manuel_demo.raw.acq_orders": {"metadata": {"type": "table", "schema": "raw", "name": "acq_orders", "database": "manuel-demo-1392926998", "comment": null, "owner": null}, "columns": {"customer_id": {"type": "INT64", "index": 1, "name": "customer_id", "comment": ""}, "taxonomy_business_category_group": {"type": "STRING", "index": 2, "name": "taxonomy_business_category_group", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 508694, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 12244262, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.manuel_demo.raw.acq_orders"}, "source.manuel_demo.raw.activity": {"metadata": {"type": "table", "schema": "raw", "name": "activity", "database": "manuel-demo-1392926998", "comment": null, "owner": null}, "columns": {"customer_id": {"type": "INT64", "index": 1, "name": "customer_id", "comment": ""}, "subscription_id": {"type": "INT64", "index": 2, "name": "subscription_id", "comment": ""}, "from_date": {"type": "STRING", "index": 3, "name": "from_date", "comment": ""}, "to_date": {"type": "STRING", "index": 4, "name": "to_date", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 2176168, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 87046720, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.manuel_demo.raw.activity"}, "source.manuel_demo.raw.customers": {"metadata": {"type": "table", "schema": "raw", "name": "customers", "database": "manuel-demo-1392926998", "comment": null, "owner": null}, "columns": {"customer_id": {"type": "INT64", "index": 1, "name": "customer_id", "comment": ""}, "customer_country": {"type": "STRING", "index": 2, "name": "customer_country", "comment": ""}}, "stats": {"num_rows": {"id": "num_rows", "label": "# Rows", "value": 532848, "include": true, "description": "Approximate count of rows in this table"}, "num_bytes": {"id": "num_bytes", "label": "Approximate Size", "value": 10414808, "include": true, "description": "Approximate size of table as reported by BigQuery"}, "has_stats": {"id": "has_stats", "label": "Has Stats?", "value": true, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.manuel_demo.raw.customers"}}, "errors": null}